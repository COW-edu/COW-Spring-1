# WEEK7

https://github.com/COW-edu/practice-mvc-racing/pull/3

### MVC 패턴

- MVC(Model-View-Controller) 패턴은 소프트웨어 디자인 패턴 중 하나로, 애플리케이션을 세 가지 주요 부분으로 분리하여 설계하는 방법론이다.
- 이 패턴은 사용자 인터페이스(UI)와 비즈니스 로직을 분리하여 코드의 구조, 유지보수성 및 확장성을 향상시키는데 중점을 둔다.
- 각 부분은 독립적으로 작동하며, 상호작용을 통해 애플리케이션을 구성한다.
- 모델 (Model)
    - 데이터와 비즈니스 로직을 담당한다.
    - 애플리케이션의 상태와 데이터를 관리하며, 데이터의 저장, 업데이트, 조회, 처리 등을 수행한다.
    - 모델은 독립적으로 존재하며, 데이터의 변화를 감지하고 관련된 로직을 처리한다.
- 뷰 (View)
    - 사용자에게 데이터를 시각적으로 표현한다.
    - UI를 구성하며, 모델의 데이터를 효과적으로 보여준다.
    - 뷰는 모델의 상태 변화를 감지하고 자동으로 업데이트되어야 한다.
- 컨트롤러 (Controller)
    - 모델과 뷰 사이의 중재자 역할을 수행한다.
    - 사용자의 입력을 받아 모델을 업데이트하거나 뷰의 표현을 변경한다.
    - 비즈니스 로직의 처리와 사용자 인터랙션을 조정하며, 요청을 분석하고 적절한 처리를 위임한다.
- MVC 패턴의 동작 흐름
    - 사용자가 애플리케이션에 요청을 보낸다.
    - 컨트롤러는 요청을 받아 해당하는 모델을 업데이트하거나 처리한다.
    - 모델의 상태가 변경되면 뷰에 알린다.
    - 뷰는 모델의 변경을 감지하고 자동으로 업데이트되어 사용자에게 변경된 데이터를 보여준다.
    - 사용자와 상호작용하면서 요청과 응답이 반복되며 애플리케이션이 동작한다.
- MVC 패턴의 장점
    - 코드의 재사용성과 유지보수성을 향상시킨다.
    - UI와 비즈니스 로직이 분리되어 개발자 간의 협업을 용이하게 한다.
    - 유연하게 확장 가능한 설계를 제공하여 새로운 기능을 추가하기 쉽게 한다.
    - 코드의 가독성과 구조를 개선하며, 애플리케이션의 품질을 높인다.
- MVC 패턴은 웹 애플리케이션, 데스크톱 소프트웨어, 모바일 앱 등 다양한 분야에서 활용되며, 개발자들이 애플리케이션을 보다 구조적이고 효율적으로 개발할 수 있도록 도와준다.

### layerd 아키텍처

- 레이어드 아키텍처(Layered Architecture)는 소프트웨어 시스템을 여러 개의 계층으로 나누어 설계하는 아키텍처 패턴이다.
- 각 계층은 특정한 역할과 책임을 가지며, 계층 간의 상호작용은 미리 정의된 인터페이스를 통해 이루어진다.
- 시스템의 구조와 기능을 분리하여 관리 가능하고 유지 보수 가능한 설계를 제공한다.
- 레이어드 아키텍처의 주요 장점
    - 모듈화와 재사용성: 각 계층은 독립적으로 개발되고 테스트될 수 있으며, 이로써 모듈화와 재사용성이 증가한다.
    - 유연성과 확장성: 새로운 기능이나 변화에 대응하기 쉬우며, 새로운 계층을 추가하거나 기존 계층을 변경할 수 있다.
    - 가독성과 유지보수성: 코드의 구조가 명확하게 분리되어 있어 가독성과 유지보수성이 향상된다.
    - 병렬 개발: 각 계층이 독립적으로 개발될 수 있으므로 병렬 개발이 가능하다.
- 레이어드 아키텍처의 주요 계층
    - 프레젠테이션 레이어 (Presentation Layer)
        - 사용자와 상호작용하는 부분으로, 사용자 인터페이스를 담당한다.
        - 사용자 입력 처리와 출력을 관리하며, 사용자에게 데이터를 시각적으로 표현한다.
    - 애플리케이션 레이어 (Application Layer)
        - 비즈니스 로직을 처리하며, 사용자의 요청에 따라 기능을 제공한다.
        - 주요 비즈니스 로직이 이곳에 위치하며, 필요한 서비스나 도메인 로직을 제공한다.
    - 도메인 레이어 (Domain Layer)
        - 애플리케이션의 핵심 도메인 모델을 정의하고 관리한다.
        - 엔티티, 값 객체, 도메인 서비스 등이 이곳에서 구현된다.
    - 인프라스트럭처 레이어 (Infrastructure Layer):
        - 데이터베이스 접근, 외부 시스템 연동, 로깅 등 기술적인 측면을 처리한다.
        - 주로 데이터베이스, 네트워크, 파일 시스템과의 상호작용이 이루어진다.
- 레이어드 아키텍처는 소프트웨어의 구조를 체계적으로 정의하여 기능과 관심사를 분리하며, 각 계층 간의 의존성을 관리하는 데 도움을 준다.
- 유연하고 확장 가능한 소프트웨어 시스템을 개발할 수 있다.

### 서블릿

- 서블릿(Servlet)은 자바를 사용하여 웹 애플리케이션을 만들기 위한 기술 중 하나이다.
- 서블릿은 클라이언트의 요청에 대한 동적인 처리를 가능하게 하며, 웹 서버에서 실행되어 웹 애플리케이션의 핵심 기능을 구현하는 데 사용된다.
- 서블릿은 웹 애플리케이션의 백엔드 로직을 담당하는 컴포넌트로서, 서버 측에서 실행되며 클라이언트와 상호작용할 수 있다.
- 서블릿의 특징과 동작 방식
    - 클라이언트 요청 처리
        - 클라이언트가 웹 애플리케이션에 요청을 보내면, 웹 서버가 해당 요청을 서블릿 컨테이너에 전달한다.
        - 서블릿 컨테이너는 요청에 맞는 서블릿을 찾아서 실행한다.
    - 동적인 처리
        - 서블릿은 동적으로 콘텐츠를 생성하여 클라이언트에 반환할 수 있다.
        - 예를 들어 HTML 코드를 생성하거나 데이터베이스에서 정보를 가져와 응답으로 전달할 수 있다.
    - 라이프사이클
        - 서블릿은 라이프사이클을 가지며, 초기화(init), 서비스(service), 종료(destroy) 등의 단계를 거친다.
        - 초기화 단계에서는 서블릿 초기화 작업을 수행하고, 서비스 단계에서 클라이언트 요청을 처리한다.
        - 종료 단계에서는 서블릿 리소스를 정리하고 자원을 해제한다.
    - 멀티스레드 지원
        - 서블릿은 클라이언트 요청마다 별도의 스레드를 생성하여 처리합니다. 이로써 동시 다중 요청을 처리할 수 있다.
        - 서블릿 컨테이너는 스레드 관리를 통해 멀티스레드 환경에서의 안정성을 유지한다.
    - HTTP 프로토콜 기반
        - 주로 HTTP 프로토콜을 사용하여 클라이언트와 통신하며, 웹 애플리케이션에서 주로 사용되는 `GET`, `POST`, `PUT`, `DELETE` 등의 HTTP 메서드를 처리한다.
- 서블릿은 `javax.servlet.Servlet` 인터페이스를 구현하여 생성하며, 서블릿 컨테이너(예: Apache Tomcat)에서 실행된다.
- 서블릿은 웹 애플리케이션의 로직을 구현하고 동적인 콘텐츠를 생성하는데 사용되며, 웹 애플리케이션의 개발 및 유지보수에 핵심적인 역할을 한다.

### 스프링 MVC 구조

- 스프링 MVC(Spring MVC)는 스프링 프레임워크의 일부로 웹 애플리케이션을 개발하기 위한 모듈 중 하나이다.
- 스프링 MVC는 Model-View-Controller(MVC) 패턴을 기반으로 하며, 웹 애플리케이션의 구조와 계층을 분리하여 개발하는 데 사용된다.
- 이 패턴을 따르면 코드의 구조가 명확해지고 유지보수가 쉬워지며, 다양한 기능을 모듈화하여 개발할 수 있다.
- 스프링 MVC의 주요 컴포넌트와 동작 방식
    - DispatcherServlet
        - 스프링 MVC의 핵심 컨트롤러로서 모든 클라이언트 요청을 받아들이고 요청 처리를 위한 핸들러에게 전달한다.
        - 각 요청에 대한 적절한 핸들러 매핑 및 핸들러 어댑터를 통해 요청 처리를 위임한다.
    - HandlerMapping
        - 요청에 대한 핸들러를 찾아주는 역할을 수행한다.
        - URI나 URL 패턴을 기반으로 적절한 핸들러를 결정한다.
    - HandlerAdapter
        - 핸들러의 실행을 위해 필요한 메서드를 호출하고, 핸들러의 실행 결과를 반환한다.
        - 다양한 핸들러 타입에 대한 실행 방식을 제공하여 일관된 처리를 도와준다.
    - Controller
        - 요청을 처리하는 비즈니스 로직을 담당한다.
        - 스프링에서 컨트롤러는 보통 POJO(Plain Old Java Object)로 작성된다.
    - ModelAndView
        - 모델과 뷰의 조합으로, 컨트롤러가 처리한 결과 데이터와 해당 데이터를 보여줄 뷰를 지정한다.
    - ViewResolver
        - 뷰의 논리 이름을 실제 뷰 페이지로 매핑하는 역할을 한다.
        - 뷰 렌더링을 위해 사용된다.
    - View
        - 클라이언트에게 보여지는 결과를 생성하는 역할을 한다.
    - 주로 `JSP`, `Thymeleaf`, `Freemarker` 등과 같은 템플릿 엔진을 사용하여 뷰를 렌더링한다.
- 스프링 MVC의 동작 흐름
    - 클라이언트의 요청이 `DispatcherServlet`으로 들어온다.
    - `DispatcherServlet`은 `HandlerMapping`을 통해 요청에 맞는 컨트롤러를 찾는다.
    - `HandlerAdapter`가 해당 컨트롤러의 메서드를 실행하고, 결과를 `ModelAndView`객체로 반환한다.
    - `ViewResolver`가 논리 이름을 실제 뷰 페이지로 변환한다.
    - 뷰는 `ModelAndView`에 담긴 데이터를 사용하여 화면을 생성하고 응답으로 전달한다.
    - 클라이언트에게 결과가 전달되며, 화면에 표시된다.
- 스프링 MVC는 각 계층을 분리하고 각 컴포넌트 간의 느슨한 결합을 유지하는 디자인 패턴을 따르므로 유지보수성이 좋고 확장 가능한 웹 애플리케이션을 개발할 수 있도록 도와준다.

### 어노테이션/ Spring 프레임워크의 주요 어노테이션

- 어노테이션(`Annotation`)
    - 어노테이션은 자바 소스 코드에 추가 정보를 제공하기 위한 메타데이터의 형태이다.
    - 주석(`comment`)과는 다르게 어노테이션은 컴파일러나 프레임워크에 의해 해석되고 처리된다.
    - 스프링 프레임워크는 어노테이션을 활용하여 객체의 생성, 의존성 주입, 설정 등을 간편하게 처리한다.
- 스프링 프레임워크의 주요 어노테이션
    - @Component:
        - 클래스를 스프링 빈으로 등록하기 위해 사용된다.
        - 일반적인 스프링 컨테이너의 빈으로 등록할 때 사용한다.
    - @Controller
        - Spring MVC에서 컨트롤러 클래스를 나타내며, 사용자의 요청을 처리하는 비즈니스 로직을 담당한다.
    - @Service
        - 비즈니스 로직을 수행하는 서비스 클래스를 나타낸다.
        - 주로 비즈니스 로직의 처리를 위임받아 처리하는 역할을 한다.
    - @Repository
        - 데이터베이스와 관련된 작업을 처리하는 DAO(Data Access Object) 클래스를 나타낸다.
        - 데이터베이스 관련 예외를 스프링의 `DataAccessException`으로 변환하여 처리한다.
    - @Autowired
        - 의존성 주입을 수행하는 어노테이션으로, 필요한 객체를 자동으로 주입한다.
        - 생성자, 필드, 메서드 등에 사용될 수 있다.
    - @Qualifier
        - 여러 빈 중에서 특정 빈을 선택하여 의존성 주입을 할 때 사용된다.
        - 주로 `@Autowired`와 함께 사용된다.
    - @RequestMapping:
        - Spring MVC에서 요청과 해당 요청을 처리할 메서드를 매핑하는 어노테이션이다.
        - URL 패턴, HTTP 메서드 등을 지정할 수 있다.
    - @Configuration
        - 스프링 빈 설정 클래스임을 나타내는 어노테이션이다.
        - 해당 클래스 내에 빈을 등록하거나 설정을 구성할 수 있다.
    - @Value
        - 프로퍼티 값을 주입하는 어노테이션으로, 주로 프로퍼티 파일에서 값을 가져와서 필드에 주입한다.
    - @Scope
        - 빈의 스코프를 지정하는 어노테이션으로, 싱글톤(Singleton), 프로토타입(Prototype) 등의 스코프를 설정할 수 있다.
    - @Transactional
        - 트랜잭션을 관리하기 위한 어노테이션으로, 메서드 레벨에서 트랜잭션을 적용할 수 있다.
    - @Aspect
        - 스프링 AOP(Aspect-Oriented Programming)에서 어드바이스와 포인트컷을 결합한 어드바이스 클래스임을 나타내는 어노테이션이다.

### 어노테이션이란?

- 어노테이션(Annotation)은 자바 프로그래밍 언어에서 소스 코드에 메타데이터를 추가하는 방식으로, 클래스, 메서드, 변수 등에 부가적인 정보를 제공하는 데 사용되는 특별한 형식의 표기법이다.
- 어노테이션은 주석(comment)과 비슷한 역할을 하지만, 주석과는 달리 컴파일러나 런타임에 의해 해석되고 처리된다.
- 어노테이션은 코드의 구조나 실행 흐름과는 무관하게 추가 정보를 나타내기 때문에 프로그램 코드에 메타데이터를 부여하여 보다 풍부한 정보를 전달하거나 기능을 확장하는 용도로 활용된다.
- 목적
    - 컴파일러 힌트 제공: 어노테이션을 사용하여 컴파일러에게 특정한 경고 또는 오류 메시지를 출력하도록 지시할 수 있다.
    - 런타임 처리 지시: 어노테이션을 사용하여 런타임에 특정한 동작을 하도록 프로그램을 제어할 수 있다.
    - 코드 문서화: 어노테이션을 사용하여 코드의 문서화나 주석보다 풍부한 정보를 코드에 부여할 수 있다.
    - 리플렉션을 통한 분석: 어노테이션을 사용하여 리플렉션을 활용해 프로그램 내의 클래스, 메서드 등에 대한 정보를 분석할 수 있다.
    - 애스펙트 지향 프로그래밍: AOP(Aspect-Oriented Programming)에서 어노테이션을 사용하여 횡단 관심사를 처리하는 어드바이스를 정의할 수 있다.
- 자바에서는 JDK 5부터 어노테이션 기능이 추가되었으며, 다양한 목적에 따라 내장 어노테이션과 커스텀 어노테이션을 만들어 사용할 수 있다.
- 내장 어노테이션은 주로 JDK나 다양한 프레임워크에서 제공하는 어노테이션으로, 커스텀 어노테이션은 개발자가 직접 만들어 사용할 수 있는 어노테이션이다.
- 예를 들어, 스프링 프레임워크에서의 `@Component`, `@Autowired`, `@RequestMapping` 등은 내장 어노테이션의 예시이다.
- 이러한 어노테이션을 사용하여 스프링 애플리케이션의 구조를 정의하고 기능을 확장할 수 있다.

### 어노테이션 사용 이유

- 주로 코드의 구조나 실행에 관련된 부가적인 정보를 제공하거나, 프로그램의 동작을 제어하고 문서화하는 데 활용된다.
- 코드 문서화와 가독성 향상
    - 어노테이션을 사용하여 코드에 부가적인 정보를 제공하면 코드의 의미와 용도를 명확하게 전달할 수 있다.
    - 이로써 코드의 가독성이 향상되고, 코드의 문서화를 보다 효과적으로 할 수 있다.
- 컴파일러 지시와 경고 제어
    - 어노테이션을 사용하여 컴파일러에게 특정한 경고 메시지를 출력하도록 지시할 수 있다.
    - 이를 통해 컴파일러가 코드의 정확성을 체크하고, 버그를 사전에 발견할 수 있다.
- 런타임 동작 제어
    - 어노테이션을 사용하여 런타임에 특정한 동작을 하도록 프로그램을 제어할 수 있다.
    - 예를 들어, 스프링 프레임워크의 `@Transactional` 어노테이션은 메서드에 트랜잭션을 적용하도록 지시하며, 이로써 트랜잭션 동작을 자동으로 처리할 수 있다.
- 메타데이터 제공
    - 어노테이션을 사용하여 코드에 메타데이터를 추가할 수 있다.
    - 메타데이터는 프로그램의 실행 흐름과는 무관하게 추가 정보를 제공하며, 리플렉션을 통해 프로그램의 구조와 상호작용을 분석하는 데 활용될 수 있다.
- 애스펙트 지향 프로그래밍
    - 어노테이션을 사용하여 애스펙트 지향 프로그래밍(AOP)을 구현할 수 있다.
    - AOP에서 어노테이션을 사용하여 횡단 관심사를 분리하고 모듈화할 수 있다.
- 프레임워크와 라이브러리 지원
    - 다양한 프레임워크와 라이브러리에서 어노테이션을 사용하여 특정한 기능을 활성화하거나 확장할 수 있다.
    - 예를 들어, 스프링 프레임워크의 컴포넌트 스캔과 같은 기능은 어노테이션을 기반으로 동작한다.
- 반복 가능한 설정
    - 어노테이션을 사용하여 설정을 반복 가능하게 만들 수 있다.
    - 예를 들어, JUnit 프레임워크의 `@Test` 어노테이션을 사용하여 테스트 메서드를 정의하면, 테스트 코드가 일관된 형식으로 작성될 수 있다.
- 어노테이션은 코드의 가독성을 향상시키고 문서화를 강화하는 동시에, 실행과 관련된 부가적인 정보를 제공하여 프로그램의 동작을 제어하거나 확장할 수 있는 강력한 도구이다.